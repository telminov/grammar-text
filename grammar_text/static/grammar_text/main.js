// Generated by CoffeeScript 1.10.0
(function() {
  var createPhraseElement;

  createPhraseElement = function(phrase, position) {
    var el;
    el = $("<div class='phrase'>" + phrase.text + "</div>");
    el.appendTo('body');
    el.css(position);
    return el;
  };

  window.GrammarText = function(input, phrasesUrl) {
    this.input = $(input);
    this.phrasesUrl = phrasesUrl;
    this.phrases = [];
    return this;
  };

  window.GrammarText.prototype.loadPhrases = function() {
    return $.get(this.phrasesUrl, (function(_this) {
      return function(result) {
        var i, len, phrase, results;
        results = [];
        for (i = 0, len = result.length; i < len; i++) {
          phrase = result[i];
          results.push(_this.phrases.push(phrase));
        }
        return results;
      };
    })(this));
  };

  window.GrammarText.prototype.renderPhrase = function(phrase) {
    var inputPadding, newInputPadding, phraseElement, phrasePadding, position, rowInputPadding;
    position = this.input.offset();
    phraseElement = createPhraseElement(phrase, position);
    rowInputPadding = this.input.css('padding-left');
    inputPadding = Number(rowInputPadding.substring(0, rowInputPadding.length - 2));
    phrasePadding = phraseElement.outerWidth(true);
    newInputPadding = inputPadding + phrasePadding;
    return this.input.css('padding-left', newInputPadding);
  };

}).call(this);
